{% extends "template.html" %}

{% block title %}LIMBPRO-{{ protocol.id }}: {{ protocol.name }}{% endblock %}

{% block body %}

    <div class="container">

        <h1><span class="secondary-heading"><i class="fa fa-project-diagram"></i> Protocol</span>LIMBPRO-{{ protocol.id }}: {{ protocol.name }}</h1>

        {{ show_value(protocol.type, "Protocol Type", "enum") }}
        {{ show_value(protocol.description, "Description", "text") }}
        {{ show_value(protocol.sample_type, "Sample Type", "enum") }}
        {{ show_value(protocol.upload_date, "Creation Date", "text") }}
        {{ show_value(protocol.user_information.email, "Uploader:", "text") }}


        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h4><i class="fas fa-file"></i> Protocol Documents</h4>
        </div>

        <table id="protocolTables" class="table table-striped table-bordered" style="width:100%">
            <thead>
            <tr>
                <th>Document</th>
                <th>Upload Date</th>
                <th>Uploader</th>
            </tr>
            </thead>
            <tbody>
            {% for document_id, document in protocol.documents.items() %}
                <tr>
                    <td>
                        <a href="{{ url_for('document.view', doc_id=document_id) }}">
                            <i class="fas fa-file"></i> LIMBPRO-{{ document_id }}: {{ document.name }}
                        </a>
                    </td>
                    <td>{{ document.upload_date }}</td>
                    <td>{{ document.user_information.email }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>


    </div>

{% endblock %}