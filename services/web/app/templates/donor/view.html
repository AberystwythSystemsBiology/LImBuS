{% extends "template.html" %}

{% block title %}LIMBDON-{{donor.id}}{% endblock %}

{% block body %}
<div class="jumbotron">
    <div class="container">
        <h1>
            <span class="secondary-heading">
                <a href="{{ url_for('donor.index') }}">
                    <i class="fa fa-user-circle"></i> Donor Portal
                </a>
            </span>
            {{ render_colour(donor.colour) }} LIMBDON-{{donor.id}}
        </h1>
        <div class="row">
            <div class="col-sm-8">
                <div class="btn-toolbar form-group" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn-group mr-2" role="group" aria-label="First group">
                        <a href="{{url_for('donor.edit', id=donor.id) }}">
                            <button type="button" class="btn btn-outline-dark"><i class="fa fa-edit"></i> Edit</button>
                        </a>
                    </div>
                    <div class="btn-group mr-2" role="group" aria-label="First group">
                        <a href="{{ url_for('donor.new_diagnosis', id=donor.id) }}">
                            <button type="button" class="btn btn-outline-dark"><i class="fa fa-stethoscope"></i> Associate Diagnosis</button>
                        </a>
                    </div>
                    <div class="btn-group mr-2" role="group" aria-label="First group">
                        <a href="#">
                            <button type="button" class="btn btn-outline-dark"><i class="fas fa-vial"></i> Assign Sample</button>
                        </a>
                    </div>
                    <div class="btn-group" role="group" aria-label="Third group">
                        <button type="button" class="btn btn-outline-dark" disabled><i class="fa fa-print"></i>
                            Print</button>
                    </div>
                </div>

            </div>


        </div>
    </div>
</div>

<div class="container">
    <ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
        <li class="nav-item" role="presentation">
          <a
            class="nav-link active"
            id="ex1-tab-1"
            data-mdb-toggle="tab"
            href="#ex1-tabs-1"
            role="tab"
            aria-controls="ex1-tabs-1"
            aria-selected="true"
            >Donor Information</a
          >
        </li>
        <li class="nav-item" role="presentation">
          <a
            class="nav-link"
            id="ex1-tab-2"
            data-mdb-toggle="tab"
            href="#ex1-tabs-2"
            role="tab"
            aria-controls="ex1-tabs-2"
            aria-selected="false"
            >Diagnosis Information</a
          >
        </li>
        <li class="nav-item" role="presentation">
          <a
            class="nav-link"
            id="ex1-tab-3"
            data-mdb-toggle="tab"
            href="#ex1-tabs-3"
            role="tab"
            aria-controls="ex1-tabs-3"
            aria-selected="false"
            >Associated Samples</a
          >
        </li>
      </ul>


      {{ donor }}

    <table class="table table-striped">
        {{ show_value(donor.uuid, "UUID", "text") }}

        {{ show_value(donor.age, "Age", "text") }}
        {{ show_value(donor.sex, "Sex", "text") }}
        {{ show_value(donor.status, "Status", "text") }}
        {{ show_value(donor.race, "Race", "text") }}
        {%if (donor.height != None and donor.height > 0) %}
        {{ show_value(donor.height, "Height (cm)", "text") }}
        {%endif %}
        {%if (donor.weight != None and donor.weight > 0) %}
        {{ show_value(donor.weight, "Weight (kg)", "text") }}
        {%if (donor.height != None and donor.height > 0) %}
        {{ show_value('%0.2f'| format(donor.weight / (donor.height/100)**2|float), "BMI", "text")}}
        {%endif %}
        {%endif %}
        {% if donor.status == "Deceased" %}
        {{ show_value(donor.death_date, "Death Date", "text") }}
        {%endif %}

    </table>
</div>

{% endblock %}